@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    /* Sacred Shifter Living Field Color System */
    --background: 257 65% 11%; /* Deep indigo void */
    --foreground: 143 25% 86%; /* Truth light mint */

    --card: 257 65% 11%; /* Living field base */
    --card-foreground: 143 25% 86%;

    --popover: 257 65% 11%;
    --popover-foreground: 143 25% 86%;

    /* Sacred Frequency Colors */
    --primary: 269 69% 58%; /* Resonance violet */
    --primary-foreground: 143 25% 86%;

    --secondary: 196 83% 60%; /* Alignment aqua blue */
    --secondary-foreground: 257 65% 11%;

    --truth: 143 25% 86%; /* Light mint - clarity, knowing */
    --resonance: 269 69% 58%; /* Violet - spiritual frequency */
    --alignment: 196 83% 60%; /* Aqua blue - direction, breath */
    --purpose: 324 78% 54%; /* Magenta - soul signal */
    --silence: 257 65% 11%; /* Deep indigo - background void */
    --pulse: 60 100% 50%; /* Neon yellow - moment of choice */

    --muted: 257 45% 15%;
    --muted-foreground: 143 15% 65%;

    --accent: 324 78% 54%; /* Purpose magenta */
    --accent-foreground: 143 25% 86%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 143 25% 86%;

    --border: 257 35% 20%;
    --input: 257 35% 15%;
    --ring: 269 69% 58%;

    --radius: 1rem; /* More rounded for sacred feel */

    /* Sacred glow effects */
    --sacred-glow: 0 0 12px;
    --sacred-glow-hover: 0 0 20px;
    --sacred-blur: 8px;

    --sidebar-background: 257 65% 11%;
    --sidebar-foreground: 143 25% 86%;
    --sidebar-primary: 269 69% 58%;
    --sidebar-primary-foreground: 143 25% 86%;
    --sidebar-accent: 257 45% 15%;
    --sidebar-accent-foreground: 143 25% 86%;
    --sidebar-border: 257 35% 20%;
    --sidebar-ring: 269 69% 58%;
  }

  .dark {
    /* Sacred Shifter maintains same sacred palette in dark mode */
    --background: 257 65% 11%;
    --foreground: 143 25% 86%;

    --card: 257 65% 11%;
    --card-foreground: 143 25% 86%;

    --popover: 257 65% 11%;
    --popover-foreground: 143 25% 86%;

    --primary: 269 69% 58%;
    --primary-foreground: 143 25% 86%;

    --secondary: 196 83% 60%;
    --secondary-foreground: 257 65% 11%;

    --truth: 143 25% 86%;
    --resonance: 269 69% 58%;
    --alignment: 196 83% 60%;
    --purpose: 324 78% 54%;
    --silence: 257 65% 11%;
    --pulse: 60 100% 50%;

    --muted: 257 45% 15%;
    --muted-foreground: 143 15% 65%;

    --accent: 324 78% 54%;
    --accent-foreground: 143 25% 86%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 143 25% 86%;

    --border: 257 35% 20%;
    --input: 257 35% 15%;
    --ring: 269 69% 58%;

    --sidebar-background: 257 65% 11%;
    --sidebar-foreground: 143 25% 86%;
    --sidebar-primary: 269 69% 58%;
    --sidebar-primary-foreground: 143 25% 86%;
    --sidebar-accent: 257 45% 15%;
    --sidebar-accent-foreground: 143 25% 86%;
    --sidebar-border: 257 35% 20%;
    --sidebar-ring: 269 69% 58%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'Inter', system-ui, sans-serif;
    /* Living Field Background - Sacred Shifter */
    background: 
      /* High Frequency Layers - Light Spectrum */
      radial-gradient(ellipse at 20% 20%, 
        hsl(300 100% 50% / 0.15) 0%, 
        transparent 40%),
      radial-gradient(ellipse at 80% 20%, 
        hsl(240 100% 60% / 0.12) 0%, 
        transparent 40%),
      radial-gradient(ellipse at 60% 80%, 
        hsl(180 100% 50% / 0.1) 0%, 
        transparent 40%),
      radial-gradient(ellipse at 40% 60%, 
        hsl(120 100% 40% / 0.08) 0%, 
        transparent 40%),
      radial-gradient(ellipse at 10% 90%, 
        hsl(60 100% 50% / 0.06) 0%, 
        transparent 40%),
      radial-gradient(ellipse at 90% 70%, 
        hsl(0 100% 50% / 0.08) 0%, 
        transparent 40%),
      /* Mid Frequency - Energy Field */
      conic-gradient(from 0deg at 50% 50%, 
        hsl(269 69% 20% / 0.3) 0deg,
        hsl(196 83% 30% / 0.25) 120deg,
        hsl(324 78% 25% / 0.2) 240deg,
        hsl(269 69% 20% / 0.3) 360deg),
      /* Base Frequency - Matter Foundation */
      radial-gradient(ellipse at center, 
        hsl(257 65% 15%) 0%, 
        hsl(250 70% 12%) 40%, 
        hsl(240 80% 8%) 80%, 
        hsl(235 85% 4%) 100%);
    background-attachment: fixed;
    background-size: 
      400px 400px, 350px 350px, 450px 450px, 300px 300px, 500px 500px, 380px 380px,
      200% 200%,
      100% 100%;
    animation: 
      cosmic-spectrum-dance 30s ease-in-out infinite;
    overflow-x: hidden;
    min-height: 100vh;
  }

  body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 0;
    /* Organic Sacred Forms */
    background-image: 
      url("data:image/svg+xml,%3Csvg width='140' height='140' viewBox='0 0 140 140' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg stroke='%23A855F7' stroke-width='0.4' stroke-opacity='0.25'%3E%3Cpath d='M70 20 Q90 40 70 60 Q50 40 70 20 M70 60 Q90 80 70 100 Q50 80 70 60 M70 100 Q90 120 70 140 Q50 120 70 100'/%3E%3Cpath d='M20 70 Q40 90 60 70 Q40 50 20 70 M60 70 Q80 90 100 70 Q80 50 60 70 M100 70 Q120 90 140 70 Q120 50 100 70'/%3E%3Cpath d='M70 70 m-30 0 a30 30 0 1 1 60 0 a30 30 0 1 1 -60 0'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E"),
      url("data:image/svg+xml,%3Csvg width='90' height='90' viewBox='0 0 90 90' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg stroke='%2300FFFF' stroke-width='0.3' stroke-opacity='0.2'%3E%3Cpath d='M45 10 Q60 25 45 40 Q30 25 45 10 M45 40 Q60 55 45 70 Q30 55 45 40 M10 45 Q25 60 40 45 Q25 30 10 45 M40 45 Q55 60 70 45 Q55 30 40 45'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
    background-size: 140px 140px, 90px 90px;
    animation: 
      organic-flow 35s ease-in-out infinite,
      energy-wave-pulse 8s ease-in-out infinite;
    opacity: 0.6;
  }

  body::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 0;
    /* Particle Field */
    background-image: 
      radial-gradient(circle at 20% 30%, hsl(300 100% 70% / 0.1) 1px, transparent 1px),
      radial-gradient(circle at 80% 70%, hsl(180 100% 60% / 0.08) 1px, transparent 1px),
      radial-gradient(circle at 40% 80%, hsl(60 100% 70% / 0.06) 1px, transparent 1px),
      radial-gradient(circle at 90% 20%, hsl(240 100% 70% / 0.08) 1px, transparent 1px);
    background-size: 200px 200px, 250px 250px, 180px 180px, 300px 300px;
    animation: particle-field-drift 25s linear infinite;
    opacity: 0.8;
  }

  /* Ensure main content is above background */
  #root {
    position: relative;
    z-index: 1;
    min-height: 100vh;
    transform: translateZ(0);
    will-change: auto;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Syne', system-ui, sans-serif;
    font-weight: 600;
  }

  .font-sacred {
    font-family: 'Syne', system-ui, sans-serif;
  }

  .font-codex {
    font-family: 'Crimson Text', serif;
  }
}

@layer components {
  .sacred-card {
    @apply bg-card/[0.08] border border-white/[0.08] rounded-2xl backdrop-blur-[12px] p-6;
    @apply shadow-[0_0_15px_hsl(var(--primary)/0.15)] transition-shadow duration-300;
    @apply hover:shadow-[0_0_25px_hsl(var(--primary)/0.3)];
    @apply hover:bg-card/[0.12];
  }

  .sacred-button {
    @apply inline-flex items-center justify-center gap-2 rounded-2xl px-6 py-3;
    @apply bg-gradient-to-br from-primary to-secondary text-primary-foreground;
    @apply shadow-[0_0_12px_hsl(var(--primary)/0.6)] transition-all duration-200;
    @apply hover:scale-105 hover:shadow-[0_0_18px_hsl(var(--primary)/0.8)];
    @apply font-medium font-sacred;
  }

  .sacred-input {
    @apply w-full rounded-xl border border-input bg-background/50 px-4 py-3;
    @apply backdrop-blur-sm transition-all duration-200;
    @apply focus:border-primary focus:shadow-[0_0_12px_hsl(var(--primary)/0.3)];
    @apply focus:outline-none focus:ring-2 focus:ring-primary/20;
  }

  .sacred-glow {
    @apply shadow-[0_0_20px_hsl(var(--primary)/0.4)];
  }

  .pulse-sacred {
    animation: pulse-sacred 2s ease-in-out infinite;
  }
}

@keyframes pulse-sacred {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.02);
  }
}

@keyframes sacred-field-pulse {
  0%, 100% {
    filter: brightness(1) hue-rotate(0deg);
  }
  50% {
    filter: brightness(1.1) hue-rotate(3deg);
  }
}

@keyframes sacred-geometry-float {
  0% {
    transform: translateY(0px) rotate(0deg);
    opacity: 0.4;
  }
  25% {
    transform: translateY(-2px) rotate(90deg);
    opacity: 0.6;
  }
  50% {
    transform: translateY(-4px) rotate(180deg);
    opacity: 0.4;
  }
  75% {
    transform: translateY(-2px) rotate(270deg);
    opacity: 0.6;
  }
  100% {
    transform: translateY(0px) rotate(360deg);
    opacity: 0.4;
  }
}

@keyframes cosmic-spectrum-dance {
  0% {
    background-position: 0% 0%, 10% 10%, 20% 20%, 30% 30%, 40% 40%, 50% 50%, 0% 0%, 0% 0%;
    filter: hue-rotate(0deg) saturate(1);
  }
  50% {
    background-position: 10% 15%, 20% 10%, 30% 25%, 40% 20%, 50% 35%, 60% 30%, 15% 20%, 0% 0%;
    filter: hue-rotate(180deg) saturate(1.05);
  }
  100% {
    background-position: 20% 30%, 30% 20%, 40% 50%, 50% 40%, 60% 70%, 70% 60%, 30% 40%, 0% 0%;
    filter: hue-rotate(360deg) saturate(1);
  }
}

@keyframes organic-flow {
  0% {
    transform: rotate(0deg) scale(1) translate(0, 0);
    filter: hue-rotate(0deg);
  }
  25% {
    transform: rotate(45deg) scale(1.03) translate(2px, -1px);
    filter: hue-rotate(60deg);
  }
  50% {
    transform: rotate(90deg) scale(0.98) translate(1px, 2px);
    filter: hue-rotate(120deg);
  }
  75% {
    transform: rotate(135deg) scale(1.02) translate(-1px, 1px);
    filter: hue-rotate(180deg);
  }
  100% {
    transform: rotate(180deg) scale(1) translate(0, 0);
    filter: hue-rotate(240deg);
  }
}

@keyframes energy-wave-pulse {
  0%, 100% {
    opacity: 0.6;
    transform: scaleX(1) scaleY(1);
  }
  33% {
    opacity: 0.7;
    transform: scaleX(1.02) scaleY(0.98);
  }
  66% {
    opacity: 0.8;
    transform: scaleX(0.98) scaleY(1.02);
  }
}

@keyframes field-breathing {
  0%, 100% {
    transform: scale(1) rotate(0deg);
    opacity: 1;
  }
  50% {
    transform: scale(1.02) rotate(0.5deg);
    opacity: 0.95;
  }
}

@keyframes frequency-pulse {
  0%, 100% {
    filter: brightness(1) contrast(1);
  }
  50% {
    filter: brightness(1.15) contrast(1.1);
  }
}

@keyframes sacred-geometry-spin {
  0% {
    transform: rotate(0deg) scale(1);
  }
  50% {
    transform: rotate(180deg) scale(1.05);
  }
  100% {
    transform: rotate(360deg) scale(1);
  }
}

@keyframes energy-grid-pulse {
  0%, 100% {
    opacity: 0.6;
    filter: brightness(1);
  }
  50% {
    opacity: 0.8;
    filter: brightness(1.3);
  }
}

@keyframes particle-field-drift {
  0% {
    background-position: 0% 0%, 0% 0%, 0% 0%, 0% 0%;
    transform: translateY(0px);
  }
  25% {
    background-position: 25% 25%, -10% 10%, 15% -5%, 30% 20%;
    transform: translateY(-2px);
  }
  50% {
    background-position: 50% 50%, -20% 20%, 30% -10%, 60% 40%;
    transform: translateY(-4px);
  }
  75% {
    background-position: 75% 75%, -30% 30%, 45% -15%, 90% 60%;
    transform: translateY(-2px);
  }
  100% {
    background-position: 100% 100%, -40% 40%, 60% -20%, 120% 80%;
    transform: translateY(0px);
  }
}

/* Interactive breathing states */
@media (prefers-reduced-motion: no-preference) {
  body:hover {
    animation-duration: 15s, 6s, 3s;
  }
  
  body:active {
    animation-duration: 10s, 4s, 2s;
  }
}

/* Performance optimizations */
body, body::before, body::after {
  will-change: transform, opacity, filter, background-position;
  backface-visibility: hidden;
  transform-style: preserve-3d;
}